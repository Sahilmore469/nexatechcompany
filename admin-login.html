<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Login – NexaTech</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&family=Inter&display=swap" rel="stylesheet">

  <!-- Main CSS -->
  <link rel="stylesheet" href="style.css">
</head>

<body class="admin-login-body">

<!-- HEADER -->
<header class="admin-header">
  <div class="logo">
    <img src="https://img.freepik.com/premium-vector/typographic-logo-nexatech-isolated-vector-illustration_743291-2733.jpg" alt="NexaTech Logo">
    <span>NexaTech</span>
  </div>

  <nav>
    <a href="index.html">Back to Website</a>
  </nav>
</header>

<!-- LOGIN CONTAINER -->
<section class="admin-login-container">

  <!-- LEFT PANEL -->
  <div class="admin-login-left">
    <h1>Admin Panel</h1>
    <p>
      Secure access to manage customer inquiries,
      submissions, and platform operations.
    </p>

    <img
      src="https://cdni.iconscout.com/illustration/premium/thumb/login-security-illustration-svg-download-png-7271013.png"
      alt="Admin Login Illustration"
    >
  </div>

  <!-- RIGHT PANEL -->
  <div class="admin-login-right">
    <div class="admin-login-box">

      <h2>Admin Login</h2>
      <p class="admin-login-subtext">Authorized access only</p>

      <form id="loginForm">
        <input type="email" placeholder="Admin Email" required>
        <input type="password" placeholder="Password" required>
        <button type="submit">Sign In</button>
      </form>

      <div class="admin-login-footer">
        © 2025 NexaTech Solutions
      </div>

    </div>
  </div>

</section>

<script>
  document.getElementById("loginForm").addEventListener("submit", async (e) => {
    e.preventDefault();
  
    const email = document.querySelector("input[type='email']").value;
    const password = document.querySelector("input[type='password']").value;
  
    try {
      const res = await fetch("http://localhost:5000/api/admin/login", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ email, password })
      });
  
      const data = await res.json();
  
      if (res.ok) {
        localStorage.setItem("token", data.token);
        window.location.href = "admin.html";
      } else {
        alert("Invalid admin credentials");
      }
    } catch (err) {
      alert("Backend not reachable");
    }
  });
  </script>
  

</body>
</html>
